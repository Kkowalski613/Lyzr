<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAIA Platform - General Chat</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --maia-blue: #2563EB;
            --maia-blue-light: #3B82F6;
            --maia-blue-pale: #EFF6FF;
            --maia-purple: #8B5CF6;
            --maia-gray-50: #F9FAFB;
            --maia-gray-100: #F3F4F6;
            --maia-gray-200: #E5E7EB;
            --maia-gray-300: #D1D5DB;
            --maia-gray-400: #9CA3AF;
            --maia-gray-500: #6B7280;
            --maia-gray-600: #4B5563;
            --maia-gray-700: #374151;
            --maia-gray-800: #1F2937;
            --maia-gray-900: #111827;
            --sidebar-width: 260px;
            --toggle-active-bg: rgba(37, 99, 235, 0.1);
            --toggle-active-text: #2563EB;
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'DM Sans', -apple-system, sans-serif; background: #FFF; min-height: 100vh; color: var(--maia-gray-900); }
        .app-layout { display: flex; min-height: 100vh; }

        /* Sidebar */
        .sidebar { width: var(--sidebar-width); height: 100vh; position: fixed; left: 0; top: 0; background: white; border-right: 1px solid #f0f0f0; display: flex; flex-direction: column; z-index: 50; }
        .sidebar-header { padding: 20px 16px; display: flex; align-items: center; justify-content: space-between; }
        .sidebar-logo { width: 36px; height: 36px; background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .sidebar-logo img { width: 24px; height: 24px; object-fit: contain; display: block; }
        .sidebar-toggle { width: 32px; height: 32px; border: none; background: transparent; color: var(--maia-gray-600); cursor: pointer; border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; }
        .sidebar-toggle:hover { background: var(--maia-gray-100); color: var(--maia-gray-900); }
        .sidebar-content { flex: 1; padding: 0 20px; overflow-y: auto; }
        .new-chat-btn { display: flex; align-items: center; gap: 8px; width: 100%; padding: 8px 12px; border: none; background: transparent; color: var(--maia-gray-600); font-family: inherit; font-size: 14px; font-weight: 500; cursor: pointer; border-radius: 6px; transition: all 0.15s; }
        .new-chat-btn:hover { background: var(--maia-gray-100); color: var(--maia-gray-900); }
        .new-chat-btn svg { width: 16px; height: 16px; }
        .chats-section { margin-top: 32px; }
        .chats-label { font-size: 14px; color: var(--maia-gray-400); padding-left: 12px; margin-bottom: 8px; }
        .chats-empty { font-size: 14px; color: var(--maia-gray-400); text-align: center; padding: 16px 12px; }
        .sidebar-footer { padding: 20px 16px; border-top: 1px solid var(--maia-gray-100); display: flex; flex-direction: column; gap: 4px; }
        .sidebar-link { display: flex; align-items: center; gap: 8px; padding: 8px 12px; border: none; background: transparent; color: var(--maia-gray-700); font-family: inherit; font-size: 14px; font-weight: 500; cursor: pointer; border-radius: 6px; text-decoration: none; transition: all 0.15s; }
        .sidebar-link:hover { background: var(--maia-gray-100); }
        .sidebar-link svg { width: 18px; height: 18px; }
        .user-profile { margin-top: 12px; padding: 12px; border-radius: 8px; transition: all 0.15s; }
        .user-profile:hover { background: var(--maia-gray-50); }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; background: var(--maia-gray-100); display: flex; align-items: center; justify-content: center; color: var(--maia-gray-600); }
        .user-avatar svg { width: 16px; height: 16px; }
        .user-details { flex: 1; min-width: 0; }
        .user-name { font-size: 14px; font-weight: 500; color: var(--maia-gray-900); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .user-email { font-size: 12px; color: var(--maia-gray-500); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* Main Content */
        .main-content { flex: 1; margin-left: var(--sidebar-width); min-height: 100vh; display: flex; flex-direction: column; }
        .header { padding: 16px 32px 16px; display: flex; flex-direction: column; align-items: center; gap: 12px; border-bottom: 1px solid var(--maia-gray-100); background: white; position: sticky; top: 0; z-index: 40; }
        .header-left { display: flex; align-items: center; gap: 14px; justify-content: center; width: 100%; max-width: 920px; }
        .header-logo { display: flex; align-items: center; gap: 10px; text-decoration: none; }
        .header-logo-divider { display: none; }
        .header-logo-img { height: 24px; width: auto; display: block; }
        .header-logo-maia-wrap { display: inline-flex; align-items: center; gap: 8px; }
        .header-logo-subtitle { font-size: 12px; color: var(--maia-gray-600); line-height: 1.3; white-space: normal; }
        .header-nav { display: flex; align-items: center; justify-content: center; gap: 8px; margin-left: 0; width: 100%; max-width: 920px; }
        .nav-link { padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 500; text-decoration: none; transition: all 0.15s; border: none; cursor: pointer; font-family: inherit; }
        .nav-link.inactive { background: transparent; color: var(--maia-gray-900); }
        .nav-link.inactive:hover { background: var(--maia-gray-100); }
        .nav-link.active { background: var(--maia-gray-900); color: white; }
        .nav-link.active:hover { background: var(--maia-gray-800); }

        /* Page Content */
        .page-content { flex: 1; padding: 48px 24px; background: linear-gradient(180deg, #FFF 0%, #F9FAFB 100%); }
        .container { max-width: 920px; margin: 0 auto; }

        /* Logo Carousel */
        .logo-carousel-wrapper { position: relative; width: 100%; max-width: 600px; margin: 0 auto 24px; overflow: hidden; height: 32px; }
        .logo-carousel-wrapper::before, .logo-carousel-wrapper::after { content: ''; position: absolute; top: 0; bottom: 0; width: 80px; z-index: 2; pointer-events: none; }
        .logo-carousel-wrapper::before { left: 0; background: linear-gradient(to right, #FFF 0%, transparent 100%); }
        .logo-carousel-wrapper::after { right: 0; background: linear-gradient(to left, #FFF 0%, transparent 100%); }
        .logo-carousel { display: flex; align-items: center; gap: 48px; animation: scroll 25s linear infinite; width: max-content; }
        .logo-carousel:hover { animation-play-state: paused; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .logo-item { display: flex; align-items: center; gap: 8px; opacity: 0.4; transition: opacity 0.3s; flex-shrink: 0; }
        .logo-item:hover { opacity: 0.6; }
        .logo-item svg { height: 20px; width: auto; fill: #4B5563; }
        .logo-item span { font-size: 14px; font-weight: 600; color: #4B5563; letter-spacing: -0.01em; }

        /* Page Header */
        .page-header { text-align: center; margin-bottom: 32px; }
        .page-header h1 { color: var(--maia-blue); font-size: 40px; font-weight: 400; margin-bottom: 16px; }
        .page-header p { color: var(--maia-gray-600); font-size: 14px; line-height: 1.6; max-width: 724px; margin: 0 auto; }

        /* Tooltips */
        .tooltips-row { display: flex; justify-content: center; gap: 24px; margin-bottom: 12px; }
        .tooltip-trigger { position: relative; display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 8px; background: transparent; border: none; color: var(--maia-gray-500); font-family: inherit; font-size: 13px; font-weight: 500; cursor: help; transition: all 0.2s; }
        .tooltip-trigger:hover { color: var(--maia-gray-700); background: var(--maia-gray-100); }
        .tooltip-trigger svg { width: 14px; height: 14px; }
        .tooltip-content { position: absolute; bottom: calc(100% + 8px); left: 50%; transform: translateX(-50%) translateY(4px); min-width: 240px; max-width: 280px; background: var(--maia-gray-800); color: white; padding: 12px 14px; border-radius: 10px; font-size: 13px; line-height: 1.5; opacity: 0; visibility: hidden; transition: all 0.2s; z-index: 200; text-align: left; box-shadow: var(--shadow-lg); }
        .tooltip-content::after { content: ''; position: absolute; top: 100%; left: 50%; transform: translateX(-50%); border: 6px solid transparent; border-top-color: var(--maia-gray-800); }
        .tooltip-trigger:hover .tooltip-content { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
        .tooltip-content ul { margin: 0; padding-left: 16px; }
        .tooltip-content li { margin-bottom: 4px; }
        .tooltip-content li:last-child { margin-bottom: 0; }

        /* Chat Input */
        .chat-input-container { background: var(--maia-gray-200); border-radius: 16px; padding: 16px; display: flex; flex-direction: column; gap: 12px; }
        .input-wrapper { position: relative; }
        .chat-textarea { width: 100%; background: transparent; border: none; outline: none; font-family: inherit; font-size: 16px; color: var(--maia-gray-900); resize: none; min-height: 24px; max-height: 160px; line-height: 1.5; }
        .chat-textarea::placeholder { color: var(--maia-gray-500); }
        .controls-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
        .left-controls, .right-controls { display: flex; align-items: center; gap: 8px; }
        .right-controls { gap: 12px; }

        /* Model Selector */
        .model-selector { position: relative; }
        .model-selector-btn { display: flex; align-items: center; gap: 4px; height: 32px; padding: 0 8px 0 12px; border-radius: 8px; border: 1px solid var(--maia-gray-300); background: white; color: var(--maia-gray-800); font-family: inherit; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .model-selector-btn:hover { background: var(--maia-gray-50); }
        .model-selector-btn svg { width: 16px; height: 16px; color: var(--maia-gray-500); transition: transform 0.2s; }
        .model-selector-btn[aria-expanded="true"] svg { transform: rotate(180deg); }

        /* Modal */
        .model-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.3); opacity: 0; visibility: hidden; transition: all 0.2s; z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .model-modal-overlay.open { opacity: 1; visibility: visible; }
        .model-modal { background: white; border-radius: 16px; box-shadow: var(--shadow-xl); width: 100%; max-width: 520px; max-height: 80vh; overflow: hidden; transform: scale(0.95) translateY(10px); transition: all 0.2s; }
        .model-modal-overlay.open .model-modal { transform: scale(1) translateY(0); }
        .model-modal-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px 16px; border-bottom: 1px solid var(--maia-gray-100); }
        .model-modal-header h2 { font-size: 18px; font-weight: 600; color: var(--maia-gray-900); }
        .model-modal-header span { font-size: 14px; color: var(--maia-blue); font-weight: 500; }
        .model-modal-close { width: 32px; height: 32px; border-radius: 8px; border: none; background: transparent; color: var(--maia-gray-500); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.15s; }
        .model-modal-close:hover { background: var(--maia-gray-100); color: var(--maia-gray-700); }
        .model-modal-body { padding: 8px; max-height: 60vh; overflow-y: auto; }

        /* Provider */
        .provider-group { margin-bottom: 4px; }
        .provider-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; cursor: pointer; border-radius: 12px; transition: all 0.15s; }
        .provider-header:hover { background: var(--maia-gray-50); }
        .provider-info { display: flex; align-items: center; gap: 12px; }
        .provider-logo { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .provider-logo svg { width: 28px; height: 28px; }
        .provider-text h3 { font-size: 15px; font-weight: 600; color: var(--maia-gray-900); margin-bottom: 2px; }
        .provider-text p { font-size: 13px; color: var(--maia-gray-500); }
        .provider-chevron { width: 20px; height: 20px; color: var(--maia-gray-400); transition: transform 0.2s; }
        .provider-group.expanded .provider-chevron { transform: rotate(180deg); }
        .model-list { display: none; padding: 4px 0 8px 48px; }
        .provider-group.expanded .model-list { display: block; }
        .model-item { display: grid; grid-template-columns: 1fr auto; align-items: start; gap: 4px 12px; padding: 12px 16px 12px 12px; border-radius: 8px; cursor: pointer; transition: all 0.15s; }
        .model-item:hover { background: var(--maia-gray-50); }
        .model-item.selected { background: var(--maia-blue-pale); }
        .model-item-info { display: flex; align-items: center; gap: 8px; }
        .model-item-name { font-size: 14px; font-weight: 500; color: var(--maia-gray-800); }
        .model-item-recommended { font-size: 12px; color: var(--maia-gray-400); }
        .model-item-desc { font-size: 12px; color: var(--maia-gray-500); margin-top: 2px; grid-column: 1; }
        .model-badges { display: flex; align-items: center; gap: 8px; grid-row: 1/3; grid-column: 2; align-self: center; }
        .model-badge { padding: 4px 10px; border-radius: 16px; font-size: 12px; font-weight: 600; border: 1.5px solid; color: var(--maia-purple); border-color: var(--maia-purple); background: transparent; }

        /* Toggles */
        .toggle-thinking { display: inline-flex; align-items: center; justify-content: center; height: 32px; min-width: 32px; padding: 0 8px; border-radius: 8px; border: none; background: var(--toggle-active-bg); color: var(--toggle-active-text); cursor: pointer; transition: all 0.2s; }
        .toggle-thinking:hover { background: rgba(37,99,235,0.15); }
        .toggle-thinking.inactive { background: transparent; border: 1px solid var(--maia-gray-300); color: var(--maia-gray-500); }
        .toggle-thinking svg { width: 16px; height: 16px; }
        .icon-btn { display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: 8px; border: none; background: transparent; color: var(--maia-gray-500); cursor: pointer; transition: all 0.2s; }
        .icon-btn:hover { background: var(--maia-gray-100); color: var(--maia-gray-700); }
        .icon-btn svg { width: 20px; height: 20px; }
        .send-btn { display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: 50%; border: none; background: var(--maia-blue); color: white; cursor: pointer; transition: all 0.2s; }
        .send-btn:hover { background: var(--maia-blue-light); transform: scale(1.05); }
        .send-btn:disabled { background: var(--maia-gray-300); color: var(--maia-gray-500); cursor: not-allowed; transform: none; }
        .send-btn svg { width: 18px; height: 18px; }

        /* Quick Tabs */
        .quick-tabs { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-top: 20px; }
        .quick-tab { position: relative; display: inline-flex; align-items: center; gap: 6px; height: 36px; padding: 0 14px; border-radius: 10px; border: 1px solid var(--maia-gray-300); background: white; color: var(--maia-gray-600); font-family: inherit; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .quick-tab:hover { background: var(--maia-gray-50); border-color: var(--maia-gray-400); color: var(--maia-gray-800); }
        .quick-tab.active { background: var(--toggle-active-bg); border-color: var(--maia-blue); color: var(--toggle-active-text); }
        .quick-tab svg { width: 16px; height: 16px; opacity: 0.7; }
        .quick-tab:hover svg, .quick-tab.active svg { opacity: 1; }
        .quick-tab .chevron { margin-left: 2px; transition: transform 0.2s; }
        .quick-tab[aria-expanded="true"] .chevron { transform: rotate(180deg); }

        /* Dropdowns */
        .prompts-dropdown-wrapper, .tone-dropdown-wrapper { position: relative; }
        .prompts-dropdown, .tone-dropdown { position: absolute; top: calc(100% + 8px); left: 50%; transform: translateX(-50%) translateY(-8px); min-width: 320px; background: white; border: 1px solid var(--maia-gray-200); border-radius: 12px; box-shadow: var(--shadow-lg); padding: 8px; opacity: 0; visibility: hidden; transition: all 0.2s; z-index: 100; }
        .tone-dropdown { min-width: 220px; }
        .prompts-dropdown.open, .tone-dropdown.open { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
        .prompt-option { display: block; width: 100%; padding: 12px 14px; border: none; background: transparent; border-radius: 8px; color: var(--maia-gray-700); font-family: inherit; font-size: 14px; line-height: 1.4; cursor: pointer; transition: all 0.15s; text-align: left; }
        .prompt-option:hover { background: var(--maia-gray-100); }
        .tone-option { display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 10px 12px; border: none; background: transparent; border-radius: 8px; color: var(--maia-gray-700); font-family: inherit; font-size: 14px; cursor: pointer; transition: all 0.15s; text-align: left; }
        .tone-option:hover { background: var(--maia-gray-100); }
        .tone-option.selected { background: var(--toggle-active-bg); color: var(--toggle-active-text); }
        .tone-info { display: flex; flex-direction: column; gap: 2px; }
        .tone-name { font-weight: 500; }
        .tone-desc { font-size: 12px; color: var(--maia-gray-500); }
        .tone-option.selected .tone-desc { color: var(--maia-blue-light); }
        .check-icon { width: 16px; height: 16px; opacity: 0; flex-shrink: 0; }
        .tone-option.selected .check-icon { opacity: 1; }
        .sidebar-logo img { width: 24px; height: 24px; object-fit: contain; display: block; }

    </style>
</head>
<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img src="Source Images/AI Prophet.png" alt="AI Prophet logo">
                </div>
                <button class="sidebar-toggle"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M17 1H3C1.9 1 1 1.9 1 3V17C1 18.1 1.9 19 3 19H17C18.1 19 19 18.1 19 17V3C19 1.9 18.1 1 17 1Z" stroke="currentColor" stroke-width="2"/><path d="M7 1V19M14 13L11 10L14 7" stroke="currentColor" stroke-width="2"/></svg></button>
            </div>
            <div class="sidebar-content">
                <button class="new-chat-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.4 2.6a1 1 0 0 1 3 3l-9 9a2 2 0 0 1-.9.5l-2.9.8a.5.5 0 0 1-.6-.6l.8-2.9a2 2 0 0 1 .5-.9z"/></svg>New Chat</button>
                <div class="chats-section">
                    <p class="chats-label">Chats</p>
                    <p class="chats-empty">No conversations yet. Start a new chat!</p>
                </div>
            </div>
            <div class="sidebar-footer">
                <a href="/help" class="sidebar-link"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.1 9a3 3 0 0 1 5.8 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>Help / Support</a>
                <a href="https://studio.maia.prophet.com/" target="_blank" class="sidebar-link"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"/><path d="m21 3-9 9"/><path d="M15 3h6v6"/></svg>Agent Studio</a>
                <div class="user-profile">
                    <div class="user-info">
                        <div class="user-avatar"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div>
                        <div class="user-details"><div class="user-name">Kyle Kowalski</div><div class="user-email">kkowalski@prophet.com</div></div>
                    </div>
                </div>
                    </div>
        </aside>

        <!-- Main -->
        <main class="main-content">
            <header class="header">
                <div class="header-left">
                    <a href="/" class="header-logo">
                        <img class="header-logo-img" src="Source Images/PRophet.svg" alt="Prophet logo">
                        <div class="header-logo-divider"></div>
                        <div class="header-logo-maia-wrap">
                            <img class="header-logo-img" src="Source Images/MAIA.png" alt="MAIA logo">
                            <div class="header-logo-subtitle">Multi-Agent<br>Intelligence Assistant</div>
                        </div>
                    </a>
                </div>
                <nav class="header-nav">
                    <a href="/" class="nav-link inactive">Home</a>
                    <a href="/general-chat" class="nav-link active">General Chat</a>
                    <a href="/agent-library" class="nav-link inactive">Agent Library</a>
                    <a href="/accelerator-network" class="nav-link inactive">Accelerator Network</a>
                    <a href="/help" class="nav-link inactive">Help</a>
                </nav>
            </header>

            <div class="page-content">
                <div class="container">
                    <!-- Logo Carousel -->
                    <div class="logo-carousel-wrapper">
                        <div class="logo-carousel">
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg><span>Google</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M22.28 9.82a5.98 5.98 0 0 0-.52-4.91 6.05 6.05 0 0 0-6.51-2.9A6.07 6.07 0 0 0 4.98 4.18a5.98 5.98 0 0 0-4 2.9 6.05 6.05 0 0 0 .74 7.1 5.98 5.98 0 0 0 .51 4.91 6.05 6.05 0 0 0 6.51 2.9A5.98 5.98 0 0 0 13.26 24a6.06 6.06 0 0 0 5.77-4.21 5.99 5.99 0 0 0 4-2.9 6.06 6.06 0 0 0-.75-7.07z"/></svg><span>OpenAI</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M17.3 4.06c-2.17-.08-4.15.75-5.3 2.23-1.16-1.48-3.14-2.31-5.3-2.23C3.48 4.2.89 6.89.89 10.54c0 5.09 5.86 9.8 11.11 13.3 5.25-3.5 11.11-8.21 11.11-13.3 0-3.65-2.59-6.34-5.81-6.48z"/></svg><span>Anthropic</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12s5.37 12 12 12 12-5.37 12-12S18.63 0 12 0zm0 2.18a9.82 9.82 0 1 1 0 19.64 9.82 9.82 0 0 1 0-19.64zm0 2.18a7.64 7.64 0 1 0 0 15.28 7.64 7.64 0 0 0 0-15.28zm0 2.18a5.45 5.45 0 1 1 0 10.91 5.45 5.45 0 0 1 0-10.91z"/></svg><span>Meta AI</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M11.5 2L2 7v10l9.5 5 9.5-5V7l-9.5-5z"/></svg><span>Cohere</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H7l6-8v4h4l-6 8z"/></svg><span>Mistral</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A1 1 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9z"/></svg><span>Perplexity</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M4 4h16v16H4V4zm2 2v12h12V6H6zm2 2h8v2H8V8zm0 4h8v2H8v-2z"/></svg><span>Amazon Bedrock</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg><span>Google</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M22.28 9.82a5.98 5.98 0 0 0-.52-4.91 6.05 6.05 0 0 0-6.51-2.9A6.07 6.07 0 0 0 4.98 4.18a5.98 5.98 0 0 0-4 2.9 6.05 6.05 0 0 0 .74 7.1 5.98 5.98 0 0 0 .51 4.91 6.05 6.05 0 0 0 6.51 2.9A5.98 5.98 0 0 0 13.26 24a6.06 6.06 0 0 0 5.77-4.21 5.99 5.99 0 0 0 4-2.9 6.06 6.06 0 0 0-.75-7.07z"/></svg><span>OpenAI</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M17.3 4.06c-2.17-.08-4.15.75-5.3 2.23-1.16-1.48-3.14-2.31-5.3-2.23C3.48 4.2.89 6.89.89 10.54c0 5.09 5.86 9.8 11.11 13.3 5.25-3.5 11.11-8.21 11.11-13.3 0-3.65-2.59-6.34-5.81-6.48z"/></svg><span>Anthropic</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12s5.37 12 12 12 12-5.37 12-12S18.63 0 12 0zm0 2.18a9.82 9.82 0 1 1 0 19.64 9.82 9.82 0 0 1 0-19.64zm0 2.18a7.64 7.64 0 1 0 0 15.28 7.64 7.64 0 0 0 0-15.28zm0 2.18a5.45 5.45 0 1 1 0 10.91 5.45 5.45 0 0 1 0-10.91z"/></svg><span>Meta AI</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M11.5 2L2 7v10l9.5 5 9.5-5V7l-9.5-5z"/></svg><span>Cohere</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H7l6-8v4h4l-6 8z"/></svg><span>Mistral</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A1 1 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9z"/></svg><span>Perplexity</span></div>
                            <div class="logo-item"><svg viewBox="0 0 24 24"><path d="M4 4h16v16H4V4zm2 2v12h12V6H6zm2 2h8v2H8V8zm0 4h8v2H8v-2z"/></svg><span>Amazon Bedrock</span></div>
                        </div>
                    </div>

                    <div class="page-header">
                        <h1>General Chat</h1>
                        <p>Your all-in-one enterprise AI assistant for everyday consulting work. Ask questions, explore ideas, or draft content in a secure chat built for teams.</p>
                    </div>

                    <div class="tooltips-row">
                        <div class="tooltip-trigger">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6"/><circle cx="12" cy="16" r="1"/></svg>
                            Limitations
                            <div class="tooltip-content">
                                <ul>
                                    <li><strong>Supported files:</strong> PDF, DOCX, PPTX, XLSX, CSV, TXT, JPG, PNG</li>
                                    <li><strong>Max upload:</strong> 10 files, 25MB each</li>
                                    <li>Responses require review and fact-checking</li>
                                    <li><strong>Web search:</strong> <span id="tooltipWebSearch">No</span> (select models only)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="tooltip-trigger">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                            Capabilities
                            <div class="tooltip-content">
                                <ul>
                                    <li><strong>Knowledge cutoff:</strong> <span id="tooltipKnowledge">Jan 2025</span></li>
                                    <li><strong>Image generation:</strong> Yes</li>
                                    <li><strong>File generation:</strong> DOCX, PDF, PPTX, XLSX, CSV</li>
                                    <li><strong>Code execution:</strong> Yes (Python)</li>
                                    <li><strong>Extended thinking:</strong> <span id="tooltipThinking">Yes</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <div class="input-wrapper">
                            <textarea class="chat-textarea" id="chatTextarea" placeholder="Type your message" rows="1"></textarea>
                        </div>
                        <div class="controls-row">
                            <div class="left-controls">
                        <div class="model-selector">
                            <button class="model-selector-btn" id="modelSelectorBtn" aria-expanded="false">
                                <span id="selectedModel">2.5-Flash-Lite</span>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                            </button>
                        </div>
                        <button class="toggle-thinking" id="thinkingToggle" title="Extended Thinking">
                            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10.39 2.51C14.35 2.71 17.5 5.99 17.5 10c0 4.14-3.36 7.5-7.5 7.5S2.5 14.14 2.5 10c0-.28.22-.5.5-.5s.5.22.5.5c0 3.59 2.91 6.5 6.5 6.5s6.5-2.91 6.5-6.5c0-3.48-2.73-6.32-6.17-6.49l-.33-.01-.1-.01c-.23-.05-.4-.25-.4-.49 0-.28.22-.5.5-.5l.39.01zM10 5.5c.28 0 .5.22.5.5v3.69l2.72 1.36c.25.12.35.42.22.67-.11.22-.35.32-.59.27l-.1-.03-2.98-1.5c-.17-.09-.27-.26-.27-.46V6c0-.28.22-.5.5-.5z"/></svg>
                        </button>
                            </div>
                            <div class="right-controls">
                                <button class="icon-btn" title="Attach file"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13.23 20.25 21 12.3"/><path d="m16 6-8.41 8.59a2 2 0 0 0 0 2.82 2 2 0 0 0 2.82 0l8.42-8.58a4 4 0 0 0 0-5.66 4 4 0 0 0-5.66 0l-8.42 8.59a6 6 0 1 0 8.49 8.49"/></svg></button>
                                <button class="send-btn" disabled><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3.71 3.05a.5.5 0 0 0-.68.63l2.84 7.62a2 2 0 0 1 0 1.4l-2.84 7.62a.5.5 0 0 0 .68.63l18-8.5a.5.5 0 0 0 0-.9z"/><path d="M6 12h16"/></svg></button>
                            </div>
                        </div>
                    </div>

                    <div class="quick-tabs">
                        <div class="prompts-dropdown-wrapper">
                            <button class="quick-tab" id="promptsTab" aria-expanded="false">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                                <span>Example Prompts</span>
                                <svg class="chevron" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                            </button>
                            <div class="prompts-dropdown" id="promptsDropdown">
                                <button class="prompt-option" data-prompt="Summarize this client report and suggest key takeaways for an executive audience">Summarize this client report and suggest key takeaways for an executive audience</button>
                                <button class="prompt-option" data-prompt="Draft a project update email in a confident but concise tone">Draft a project update email in a confident but concise tone</button>
                                <button class="prompt-option" data-prompt="Explain TAM SAM SOM in simple terms">Explain TAM SAM SOM in simple terms</button>
                                <button class="prompt-option" data-prompt="Create a SWOT analysis framework for a new market entry">Create a SWOT analysis framework for a new market entry</button>
                                <button class="prompt-option" data-prompt="Help me structure a compelling client presentation">Help me structure a compelling client presentation</button>
                            </div>
                        </div>
                        <div class="tone-dropdown-wrapper">
                            <button class="quick-tab" id="toneTab" aria-expanded="false">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/></svg>
                                <span id="selectedTone">Tone of Voice</span>
                                <svg class="chevron" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                            </button>
                            <div class="tone-dropdown" id="toneDropdown">
                                <button class="tone-option selected" data-tone="Prophet Standard"><div class="tone-info"><div class="tone-name">Prophet Standard</div><div class="tone-desc">Confident, clear, strategic</div></div><svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg></button>
                                <button class="tone-option" data-tone="Executive Brief"><div class="tone-info"><div class="tone-name">Executive Brief</div><div class="tone-desc">Concise, high-level, decisive</div></div><svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg></button>
                                <button class="tone-option" data-tone="Client-Friendly"><div class="tone-info"><div class="tone-name">Client-Friendly</div><div class="tone-desc">Warm, approachable, professional</div></div><svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg></button>
                                <button class="tone-option" data-tone="Technical Deep-Dive"><div class="tone-info"><div class="tone-name">Technical Deep-Dive</div><div class="tone-desc">Detailed, analytical, thorough</div></div><svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg></button>
                                <button class="tone-option" data-tone="Creative Brainstorm"><div class="tone-info"><div class="tone-name">Creative Brainstorm</div><div class="tone-desc">Exploratory, imaginative, open</div></div><svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg></button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <!-- Model Modal -->
    <div class="model-modal-overlay" id="modelModalOverlay">
        <div class="model-modal">
            <div class="model-modal-header">
                <div><h2>Models</h2><span>Select</span></div>
                <button class="model-modal-close" id="modelModalClose"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button>
            </div>
            <div class="model-modal-body">
                <div class="provider-group expanded" data-provider="google">
                    <div class="provider-header">
                        <div class="provider-info">
                            <div class="provider-logo"><svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg></div>
                            <div class="provider-text"><h3>Google - Gemini Models</h3><p>Fast, efficient models for everyday productivity</p></div>
                        </div>
                        <svg class="provider-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                    </div>
                    <div class="model-list">
                        <div class="model-item selected" data-model="2.5-Flash-Lite" data-knowledge="Jan 2025" data-websearch="false" data-thinking="false"><div class="model-item-info"><span class="model-item-name">2.5-Flash-Lite</span><span class="model-item-recommended">(Recommended)</span></div><div class="model-item-desc">Fastest responses, great for simple tasks</div><div class="model-badges"><span class="model-badge">Instant</span></div></div>
                        <div class="model-item" data-model="2.5-Flash" data-knowledge="Jan 2025" data-websearch="false" data-thinking="false"><div class="model-item-info"><span class="model-item-name">2.5-Flash</span></div><div class="model-item-desc">Fast and capable, good all-rounder</div><div class="model-badges"><span class="model-badge">Fast</span></div></div>
                        <div class="model-item" data-model="3.0 Pro" data-knowledge="Jan 2025" data-websearch="true" data-thinking="true"><div class="model-item-info"><span class="model-item-name">3.0 Pro</span></div><div class="model-item-desc">Most powerful Gemini, deep reasoning + search</div><div class="model-badges"><span class="model-badge">Web Search</span><span class="model-badge">In-Depth</span></div></div>
                    </div>
                </div>
                <div class="provider-group" data-provider="openai">
                    <div class="provider-header">
                        <div class="provider-info">
                            <div class="provider-logo"><svg viewBox="0 0 24 24"><path fill="#10A37F" d="M22.28 9.82a5.98 5.98 0 0 0-.52-4.91 6.05 6.05 0 0 0-6.51-2.9A6.07 6.07 0 0 0 4.98 4.18a5.98 5.98 0 0 0-4 2.9 6.05 6.05 0 0 0 .74 7.1 5.98 5.98 0 0 0 .51 4.91 6.05 6.05 0 0 0 6.51 2.9A5.98 5.98 0 0 0 13.26 24a6.06 6.06 0 0 0 5.77-4.21 5.99 5.99 0 0 0 4-2.9 6.06 6.06 0 0 0-.75-7.07z"/></svg></div>
                            <div class="provider-text"><h3>OpenAI - ChatGPT Models</h3><p>Broad capability with strong reasoning and accuracy</p></div>
                        </div>
                        <svg class="provider-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                    </div>
                    <div class="model-list">
                        <div class="model-item" data-model="o4-mini" data-knowledge="Dec 2024" data-websearch="false" data-thinking="true"><div class="model-item-info"><span class="model-item-name">o4-mini</span></div><div class="model-item-desc">Low cost, quick, smart reasoning</div><div class="model-badges"><span class="model-badge">Fast</span></div></div>
                        <div class="model-item" data-model="5.2-nano" data-knowledge="Dec 2024" data-websearch="false" data-thinking="false"><div class="model-item-info"><span class="model-item-name">5.2-nano</span></div><div class="model-item-desc">Ultra-light, ideal for quick Q&A</div><div class="model-badges"><span class="model-badge">Instant</span></div></div>
                        <div class="model-item" data-model="5.2-thinking" data-knowledge="Dec 2024" data-websearch="true" data-thinking="true"><div class="model-item-info"><span class="model-item-name">5.2-thinking</span></div><div class="model-item-desc">Advanced reasoning, shows its work</div><div class="model-badges"><span class="model-badge">Web Search</span><span class="model-badge">In-Depth</span></div></div>
                    </div>
                </div>
                <div class="provider-group" data-provider="anthropic">
                    <div class="provider-header">
                        <div class="provider-info">
                            <div class="provider-logo"><svg viewBox="0 0 24 24"><path fill="#D97757" d="M17.3 4.06c-2.17-.08-4.15.75-5.3 2.23-1.16-1.48-3.14-2.31-5.3-2.23C3.48 4.2.89 6.89.89 10.54c0 5.09 5.86 9.8 11.11 13.3 5.25-3.5 11.11-8.21 11.11-13.3 0-3.65-2.59-6.34-5.81-6.48z"/></svg></div>
                            <div class="provider-text"><h3>Anthropic - Claude Models</h3><p>Reliable, thoughtful models for complex work</p></div>
                        </div>
                        <svg class="provider-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                    </div>
                    <div class="model-list">
                        <div class="model-item" data-model="Claude 3.5 Haiku" data-knowledge="Apr 2024" data-websearch="false" data-thinking="false"><div class="model-item-info"><span class="model-item-name">Claude 3.5 Haiku</span></div><div class="model-item-desc">Fastest Claude, great for simple tasks</div><div class="model-badges"><span class="model-badge">Instant</span></div></div>
                        <div class="model-item" data-model="Claude 3.5 Sonnet" data-knowledge="Apr 2024" data-websearch="true" data-thinking="true"><div class="model-item-info"><span class="model-item-name">Claude 3.5 Sonnet</span></div><div class="model-item-desc">Best balance of speed and intelligence</div><div class="model-badges"><span class="model-badge">Web Search</span><span class="model-badge">In-Depth</span></div></div>
                        <div class="model-item" data-model="Claude 3.5 Opus" data-knowledge="Apr 2024" data-websearch="true" data-thinking="true"><div class="model-item-info"><span class="model-item-name">Claude 3.5 Opus</span></div><div class="model-item-desc">Most capable, excels at complex analysis</div><div class="model-badges"><span class="model-badge">Web Search</span><span class="model-badge">In-Depth</span></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const modelSelectorBtn = document.getElementById('modelSelectorBtn');
        const modelModalOverlay = document.getElementById('modelModalOverlay');
        const modelModalClose = document.getElementById('modelModalClose');
        const selectedModelSpan = document.getElementById('selectedModel');
        const providerGroups = document.querySelectorAll('.provider-group');
        const modelItems = document.querySelectorAll('.model-item');
        const promptsTab = document.getElementById('promptsTab');
        const promptsDropdown = document.getElementById('promptsDropdown');
        const promptOptions = document.querySelectorAll('.prompt-option');
        const chatTextarea = document.getElementById('chatTextarea');
        const sendBtn = document.querySelector('.send-btn');
        const toneTab = document.getElementById('toneTab');
        const toneDropdown = document.getElementById('toneDropdown');
        const selectedToneSpan = document.getElementById('selectedTone');
        const toneOptions = document.querySelectorAll('.tone-option');
        const thinkingToggle = document.getElementById('thinkingToggle');

        modelSelectorBtn.addEventListener('click', e => { e.stopPropagation(); modelModalOverlay.classList.add('open'); });
        modelModalClose.addEventListener('click', () => modelModalOverlay.classList.remove('open'));
        modelModalOverlay.addEventListener('click', e => { if (e.target === modelModalOverlay) modelModalOverlay.classList.remove('open'); });

        providerGroups.forEach(g => g.querySelector('.provider-header').addEventListener('click', () => g.classList.toggle('expanded')));

        modelItems.forEach(item => item.addEventListener('click', e => {
            e.stopPropagation();
            modelItems.forEach(i => i.classList.remove('selected'));
            item.classList.add('selected');
            selectedModelSpan.textContent = item.dataset.model;
            document.getElementById('tooltipKnowledge').textContent = item.dataset.knowledge || 'Unknown';
            document.getElementById('tooltipWebSearch').textContent = item.dataset.websearch === 'true' ? 'Yes' : 'No';
            document.getElementById('tooltipThinking').textContent = item.dataset.thinking === 'true' ? 'Yes' : 'No';
            setTimeout(() => modelModalOverlay.classList.remove('open'), 150);
        }));

        promptsTab.addEventListener('click', e => { e.stopPropagation(); promptsDropdown.classList.toggle('open'); promptsTab.setAttribute('aria-expanded', promptsDropdown.classList.contains('open')); toneDropdown.classList.remove('open'); });
        promptOptions.forEach(opt => opt.addEventListener('click', () => { chatTextarea.value = opt.dataset.prompt; chatTextarea.style.height = 'auto'; chatTextarea.style.height = Math.min(chatTextarea.scrollHeight, 160) + 'px'; sendBtn.disabled = false; promptsDropdown.classList.remove('open'); chatTextarea.focus(); }));

        toneTab.addEventListener('click', e => { e.stopPropagation(); toneDropdown.classList.toggle('open'); toneTab.setAttribute('aria-expanded', toneDropdown.classList.contains('open')); promptsDropdown.classList.remove('open'); });
        toneOptions.forEach(opt => opt.addEventListener('click', () => { toneOptions.forEach(o => o.classList.remove('selected')); opt.classList.add('selected'); selectedToneSpan.textContent = opt.dataset.tone; toneDropdown.classList.remove('open'); toneTab.classList.add('active'); }));

        document.addEventListener('click', () => { promptsDropdown.classList.remove('open'); toneDropdown.classList.remove('open'); });

        thinkingToggle.addEventListener('click', () => { thinkingToggle.classList.toggle('inactive'); });

        chatTextarea.addEventListener('input', () => { chatTextarea.style.height = 'auto'; chatTextarea.style.height = Math.min(chatTextarea.scrollHeight, 160) + 'px'; sendBtn.disabled = !chatTextarea.value.trim(); });

        document.addEventListener('keydown', e => { if (e.key === 'Escape') modelModalOverlay.classList.remove('open'); });
    </script>
</body>
</html>
